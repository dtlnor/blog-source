---
title: 换上了自己写的新主题！(つ•̀ω•́)つ
date: 2020-08-29 13:33:28
updated: 2020-08-29 13:33:28
# excerpt:
thumbnail: https://p.pstatp.com/origin/fec10002e1566b02059f
thumbnail_webp: https://ae01.alicdn.com/kf/Hf57bb89330114cf5acbe587f98206151W.jpg
thumbnail_avif: https://vfile.meituan.net/mmdb/a6233008620ff984a8330189be974aa150893.jpg
thumbnail_color: data:image/jpeg;base64,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
---

之前网站的主题是 [hexo-theme-material](https://github.com/bolnh/hexo-theme-material)。这个主题的质量还是很高的，今天仍然有不少用户在它的 [Issue](https://github.com/bolnh/hexo-theme-material/issues) 里询问使用问题，但是它的最后一次 Commit 和 Release 停留在了 2018 年 8 月，之后就再也没有任何动静了……主题的文档[挂了](https://github.com/bolnh/hexo-theme-material/issues/698)，原作者自己的[博客兼 Demo](https://blog.viosey.com/) 也挂了，似乎的确已经是[弃坑](https://liyin.date/2020/07/25/new-theme-new-start)了。

几个月前就有了“换一个主题”的想法，不过又不能抛弃自己喜欢的 Material Design 样式所以就想着自己写一个，然后整个暑假又被某个项目耗光了时间就一直咕咕咕到现在(っ'-')╮ 现在我被关在学校里又没什么事干，于是只用了几天时间就自己摸索着把主题给做出来了~~摸鱼是第一生产力~~，勉强能看～当然样式还是有不少地方<ruby>借<rt>chāo</rt>鉴<rt>xí</rt></ruby>了原来的主题的，所以看上去和换主题之前好像没有什么区别 (　ε:)

顺便吐槽一下，Hexo 的文档的评论区里有一堆好几年前的评论吐槽文档质量极差，我看了以后的感觉就是想自己做主题的话只看官方文档很难上手，简单来说就是告诉你：“新建某某文件，在文件里写上一些 HTML 代码，主题就可以使用啦！”至于如何获取各种数据以及类型定义等等，几乎是一字未提，有时候还得用 `console.log` 自己看。

GitHub 上有人做了个类似于 Vue CLI 的[工具](https://github.com/tcrowe/generator-hexo-theme)，选择模板引擎和文章渲染器之后，就可以自动新建一个主题项目的基本结构，当然我是不想再 `npm install -g` 往自己的电脑上装一堆东西了，所以直接把它的[页面模板](https://github.com/tcrowe/generator-hexo-theme/tree/master/app/templates/layout-ejs)拿下来就开始改了～EJS 模板还是很容易掌握的，只需要记住 `<% %>` 表示 JS 代码、`<%= %>` 表示转义输出、`<%- %>` 表示不转义输出，大部分情况下这三个标签已经够用了。

因为是自己做给自己用的主题，所以很多地方都很随便啦……这个新主题的一些特性：

* 包含我之前魔改主题时添加的所有功能，例如图片懒加载、代码复制、图片放大（使用 [medium-zoom](https://github.com/francoischalifour/medium-zoom)）等等。
* 图片懒加载支持 WebP 格式自适应（浏览器不支持时会自动回退到传统格式），甚至还可以使用 Firefox 和 Chrome 正在[逐渐开始支持](https://caniuse.com/#feat=avif)的 AVIF 格式，比如这一篇的封面图就有个 [AVIF 格式的版本](https://vfile.meituan.net/mmdb/a6233008620ff984a8330189be974aa150893.jpg)。
* 支持深色模式（[MDUI](https://github.com/zdhxiong/mdui) 内置功能）。
* 和之前一样继续使用 [LiveRe](https://livere.com/) 和[不蒜子](https://busuanzi.ibruce.info/)分别提供评论区和访问计数功能。至于其他评论区和计数……因为我没有用过所以就没有适配了。
* 不使用 jQuery。但是 LiveRe 仍然会单独加载一个 jQuery，这就不是我能控制的了 ɿ(｡･ɜ･)ɾ
* 不支持 Internet Explorer，因为我使用了一些 ES6 以上的语法和特性编写 JS 代码而我又懒得用 Babel 转换再添加一大堆 Polyfill。如果用 IE 访问的话会直接跳转到[这里](https://akarin.dev/upgrade-browser.html)。

主题的源代码我上传到 [GitHub](https://github.com/TransparentLC/hexo-theme-akarin) 了，但是除了我自己以外应该不会有第二个人用了吧……|ω•`) 不过 README 和设置文档我也还没写，以后心情好的时候（比如哪天不用被关在学校里了）再补充～（咕咕咕）

> 封面图：[Pixiv ID: 61882373 「モカ姉誕生日おめでとうございます。」 by チノマロン](https://www.pixiv.net/artworks/61882373)
